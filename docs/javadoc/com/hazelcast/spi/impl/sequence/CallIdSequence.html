<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Tue Oct 23 14:06:06 UTC 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CallIdSequence (Hazelcast Root 3.11 API)</title>
<meta name="date" content="2018-10-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CallIdSequence (Hazelcast Root 3.11 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallIdSequence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdFactory.html" title="class in com.hazelcast.spi.impl.sequence"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequenceWithBackpressure.html" title="class in com.hazelcast.spi.impl.sequence"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hazelcast/spi/impl/sequence/CallIdSequence.html" target="_top">Frames</a></li>
<li><a href="CallIdSequence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hazelcast.spi.impl.sequence</div>
<h2 title="Interface CallIdSequence" class="title">Interface CallIdSequence</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/hazelcast/spi/impl/sequence/AbstractCallIdSequence.html" title="class in com.hazelcast.spi.impl.sequence">AbstractCallIdSequence</a>, <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequenceWithBackpressure.html" title="class in com.hazelcast.spi.impl.sequence">CallIdSequenceWithBackpressure</a>, <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequenceWithoutBackpressure.html" title="class in com.hazelcast.spi.impl.sequence">CallIdSequenceWithoutBackpressure</a>, <a href="../../../../../com/hazelcast/spi/impl/sequence/FailFastCallIdSequence.html" title="class in com.hazelcast.spi.impl.sequence">FailFastCallIdSequence</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">CallIdSequence</span></pre>
<div class="block">Responsible for generating invocation callIds.
 <p>
 It is very important that for each <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#next--"><code>next()</code></a> and <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#forceNext--"><code>forceNext()</code></a> ()}
 there is a matching <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#complete--"><code>complete()</code></a>. If they don't match, the number of concurrent
 invocations will grow/shrink without bound over time. This can lead to OOME or deadlock.
 <p>
 When backpressure is enabled and there are too many concurrent invocations, calls of <a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#next--"><code>next()</code></a>
 will block using a spin-loop with exponential backoff.
 <p/>
 Currently a single CallIdSequence is used for all partitions, so there is contention. Also one partition
 can cause problems in other partition if a lot of invocations are created for that partition. Then other
 partitions can't make as many invocations because a single callIdSequence is being used.
 <p/>
 In the future we could add a CallIdSequence per partition or using some 'concurrency level'
 and do a mod based on the partition-id. The advantage is that you reduce contention and improve isolation,
 at the expense of:
 <ol>
 <li>increased complexity</li>
 <li>not always being able to fully utilize the number of invocations.</li>
 </ol></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#complete--">complete</a></span>()</code>
<div class="block">Not idempotent: must be called exactly once per invocation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#forceNext--">forceNext</a></span>()</code>
<div class="block">Generates the next unique call ID.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#getLastCallId--">getLastCallId</a></span>()</code>
<div class="block">Returns the last issued call ID.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#getMaxConcurrentInvocations--">getMaxConcurrentInvocations</a></span>()</code>
<div class="block">Returns the maximum concurrent invocations supported.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequence.html#next--">next</a></span>()</code>
<div class="block">Generates the next unique call ID.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMaxConcurrentInvocations--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxConcurrentInvocations</h4>
<pre>int&nbsp;getMaxConcurrentInvocations()</pre>
<div class="block">Returns the maximum concurrent invocations supported. Integer.MAX_VALUE means there is no max.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum concurrent invocation.</dd>
</dl>
</li>
</ul>
<a name="next--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>long&nbsp;next()</pre>
<div class="block">Generates the next unique call ID. When the implementation
 supports backpressure, it will not return unless the number of outstanding invocations is within the
 configured limit. Instead it will block until the condition is met and eventually throw HazelcastOverloadException.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the generated call ID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/hazelcast/core/HazelcastOverloadException.html" title="class in com.hazelcast.core">HazelcastOverloadException</a></code> - if the outstanding invocation count hasn't dropped below the configured limit</dd>
</dl>
</li>
</ul>
<a name="forceNext--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceNext</h4>
<pre>long&nbsp;forceNext()</pre>
<div class="block">Generates the next unique call ID.
 This never blocks and it should be used only for urgent operation or when retrying.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the generated call ID</dd>
</dl>
</li>
</ul>
<a name="complete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>complete</h4>
<pre>void&nbsp;complete()</pre>
<div class="block">Not idempotent: must be called exactly once per invocation.</div>
</li>
</ul>
<a name="getLastCallId--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLastCallId</h4>
<pre>long&nbsp;getLastCallId()</pre>
<div class="block">Returns the last issued call ID.
 <strong>ONLY FOR TESTING. Must not be used for production code.</strong></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallIdSequence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdFactory.html" title="class in com.hazelcast.spi.impl.sequence"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/hazelcast/spi/impl/sequence/CallIdSequenceWithBackpressure.html" title="class in com.hazelcast.spi.impl.sequence"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hazelcast/spi/impl/sequence/CallIdSequence.html" target="_top">Frames</a></li>
<li><a href="CallIdSequence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.hazelcast.com/">Hazelcast, Inc.</a>. All Rights Reserved.</small></p>
</body>
</html>
